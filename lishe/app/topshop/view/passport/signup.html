<style type="text/css">
.form-box-wrap {
    margin-top: 0px;
}
.signup-logo-panel {
    display: none;
}

.head { width:100%; background-color: #a12124; margin-bottom: 60px;}
  .head .nav {width: 1190px;height: 100px;margin: 0 auto;}
  .head .img {padding-top: 23px;padding-left: 24px; float: left;}
  .head .p1 {float: left;font-size: 23px;color: white;margin: 0px 10px 0px 20px;line-height: 100px;} 
  .head .right {float: right;}
  .head .right .p {
color: white;
font-family: 微软雅黑;
font-size: 16px;
text-align: right;
margin: 0px;
padding: 0px;
top: 16px;
position: relative;
  }
  /* .head .right .img {margin-top: -14px;} */
</style>
<div class="head">
  <div class="nav">
      <img class="img" src="http://www.lishe.cn/themes/luckymall1/images/personal_logo.png">
      <p class="p1">礼舍，是一种情感的交流</p>
    <div class="right">
        <p class="p">招商咨询热线</p>
        <img class="img" src="http://www.lishe.cn/themes/luckymall1/images/index_phone.png">
      </div>
    </div>
</div>


<style>
.signup-content-top {
  position: relative;
  width: 600px;
  height: 100px;
  margin: 0px auto 20px auto;
}
.signup-content-top .signup-content-top-sub {
  float: left;
  width: 110px;
  margin: 0px 5px;
  text-align: center;
}
.signup-content-top .signup-content-top-sub .signup-content-top-sub-num {
  width: 30px;
  height: 30px;
  position: relative;
  margin: 0 auto;
  border-radius: 100%;
  background: #c7241d;
  text-align: center;
  font-size: 18px;
  line-height: 30px;
  color: #fff;
  padding: 1px;
  position: relative;
  z-index: 1;
}
.signup-content-top .signup-content-top-sub .signup-content-top-sub-line {
  width: 100%;
  height: 10px;
  background: #c7241d;
  position: relative;
  top: -20px;
}
.signup-content-top .signup-content-top-sub span {
  position: relative;
  font-size: 12px;
  color: #c7241d;
}

.signup-content-top .prev .signup-content-top-sub-num {
  background: #E29090;
}
.signup-content-top .prev .signup-content-top-sub-line {
  background: #E29090;
}
.signup-content-top .prev span {
  color: #E29090;
}
.signup-content-top .next .signup-content-top-sub-num {
  background: #ccc;
}
.signup-content-top .next .signup-content-top-sub-line {
  background: #ccc;
}
.signup-content-top .next span {
  color: #ccc;
}
</style>

<div class="signup-content-top">
  <div class="signup-content-top-sub">
    <div class="signup-content-top-sub-num">1</div>
    <div class="signup-content-top-sub-line"></div>
    <span>账号注册/登陆</span>
  </div>
  <div class="signup-content-top-sub next">
    <div class="signup-content-top-sub-num">2</div>
    <div class="signup-content-top-sub-line"></div>
    <span>提交申请资料</span>
  </div>
  <div class="signup-content-top-sub next">
    <div class="signup-content-top-sub-num">3</div>
    <div class="signup-content-top-sub-line"></div>
    <span>审核通过/预约</span>
  </div>
  <div class="signup-content-top-sub next">
    <div class="signup-content-top-sub-num">4</div>
    <div class="signup-content-top-sub-line"></div>
    <span>店铺开通</span>
  </div>
  <div class="signup-content-top-sub next">
    <div class="signup-content-top-sub-num">5</div>
    <div class="signup-content-top-sub-line"></div>
    <span>店铺设置</span>
  </div>
</div>

<!--
<div class="signup-flow">
    <div class="signup-flow-title"><{t}>商家入驻流程<{/t}></div>
    <ul class="signup-flow-list">
        <li class="on"><{t}>1账户注册/登录<{/t}><span class="arrow"></span></li>
        <li><{t}>2提交申请资料<{/t}><span class="arrow"></span></li>
        <li><{t}>3审核通过/签约<{/t}><span class="arrow"></span></li>
        <li><{t}>4店铺开通<{/t}><span class="arrow"></span></li>
        <li><{t}>5店铺设置<{/t}><span class="arrow"></span></li>
    </ul>
</div>
-->

<style type="text/css">
.form-box .body .form-group {
    margin-bottom: 30px;
}
.form-box form{
    padding: 0px 60px;
    color: #444;
}
.form-box .body .form-group .control-label {
    position: absolute;
    left: -108px;
    line-height: 34px;
    font-size: 14px;
    width: 100px;
    text-align: right;
}
.form-box .body .form-group .control-label em {
    color: #c7241d;
    margin-right: 5px;
}
.form-box .footer {
    width: 66%;
    position: relative;
    margin: 0px auto;
}
</style>
<div class="form-box" id="login-box">
    <!-- <div class="header">申请注册</div> 
    <form action="<{url action=topshop_ctl_passport@create}>" method="post" class="bg-gray" role="form" data-validate-onsuccess="ajaxSubmit">-->
    <form action="<{url action=topshop_ctl_passport@create}>" method="post" role="form" data-validate-onsuccess="ajaxSubmit">
        <div class="body">
            <div class="form-group">
                <label for="userid" class="control-label"><em>*</em>账户名：</label>
                <input type="text" name="login_account" id="userid" class="form-control" placeholder="注册账号必填，最少4个字符 不能纯数字或中文" required maxlength="20" data-validate-length-min="4" pattern="^(?!\d+$)[^\u4e00-\u9fa5]*$" data-validate-regexp-message="不能用纯数字或中文" data-validate-remote-url="<{url action=topshop_ctl_passport@isExists type=account}>" data-validate-remote-name="login_account" data-validate-remote-message="此帐号已被注册过，请换一个重试">
            </div>
            <div class="form-group">
                <label for="login_password" class="control-label"><em>*</em>请设置密码：</label>
                <input type="password" name="login_password" id="login_password" class="form-control" placeholder="密码，6-20个字符，不能纯数字、字母" required maxlength="20" data-validate-length-min="6" pattern="^(?!\d+$|[a-zA-Z]+$)[^\u4e00-\u9fa5]*$" data-validate-regexp-message="不能纯数字、字母">
            </div>
            <div class="form-group">
                <label for="psw_confirm" class="control-label"><em>*</em>请确认密码：</label>
                <input type="password" name="psw_confirm" id="psw_confirm" class="form-control" placeholder="请再次输入密码" required maxlength="20" data-validate-equalto-field="login_password" data-validate-equalto-message="两次密码输入不一致">
            </div>
            <div class="form-group">
                <label for="username" class="control-label"><em>*</em>联系人姓名：</label>
                <input type="text" name="name" id="username" class="form-control" placeholder="请输入联系人姓名，最多10个字" maxlength="10" required>
            </div>
            <div class="form-group">
                <label for="mobile" class="control-label"><em>*</em>联系人手机：</label>
                <input type="text" name="mobile" id="mobile" class="form-control" placeholder="请输入联系人手机" maxlength="11" required data-validate-mobile data-validate-remote-url="<{url action=topshop_ctl_passport@isExists type=mobile}>"  data-validate-remote-message="此手机号已被注册过，请换一个重试">
            </div>
            <div class="form-group">
                <label for="email" class="control-label"><em>*</em>联系人邮箱：</label>
                <input type="email" name="email" id="email" class="form-control" placeholder="请输入联系人邮箱，最多50个字符" required maxlength="50" data-validate-remote-url="<{url action=topshop_ctl_passport@isExists type=email}>"  data-validate-remote-message="此邮箱已被注册过，请换一个重试">
            </div>
            <div class="checkbox form-group">
                <label class="checkbox">
                    <input type="checkbox" required name="license"> 我已阅读并同意 <a href="#" data-toggle="modal" data-target="#myModal">《商城用户注册协议》</a>
                </label>
            </div>
        </div>
        <div class="footer">
            <p>
                <button type="submit" class="btn bg-teal btn-block btn-lg">申请注册</button>
            </p>
            <p>
                <a href="<{url action=topshop_ctl_passport@signin}>" class="text-center">已有帐户？去登录 ></a>
            </p>
        </div>
    </form>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">商城用户注册协议</h4>
      </div>
      <div class="modal-body">
        <{$license}>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script>
//$('#example').popover(options);

function ajaxSubmit (e) {
    var form = e.target;
    e.preventDefault();
    $.post(form.action, $(form).serialize(), function(rs) {
        if(rs.error) {
            $('#messagebox').message(rs.message);
            return;
        }
        if(rs.success) {
            $('#messagebox').message(rs.message, 'success');
        }
        if(rs.redirect) {
            setTimeout(function(){location.href=rs.redirect;}, 500);
        }
    });
}
</script>
